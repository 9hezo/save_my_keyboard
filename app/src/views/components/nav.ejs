<nav class="navbar bg-body-tertiary mb-5">
  <div class="container-fluid">
    <a class="navbar-brand">키보드를 구해조!</a>
    <div class="btn-group d-flex">

      <% if (!locals.userInfo) { %>
        <button onclick="location.href='/users/login'" type="button" class="btn btn-outline-dark">로그인</button>
      <% } else {%>
        <button onclick="logout()" type="button" class="btn btn-outline-dark">로그아웃</button>
      <% } %>
      <button type="button" class="btn btn-outline-dark">메인</button>
      <button type="button" class="btn btn-outline-dark">마이</button>
      <button type="button" class="btn btn-outline-dark">리뷰</button>
      <button type="button" class="btn btn-outline-dark">윤활</button>
    </div>
  </div>
</nav>

<script>
function logout() {
  fetch('/api/users/logout', {
    method: 'GET',
  })
  .then(async (res) => {
    const code = res.status;

    res = await res.json();
    alert(res.message);

    if (code === 200) {
      location.href = '/';
    }
  })
  .catch((err) => {
    // console.error(new Error('회원가입 중 에러 발생'));
    console.log('err: ', err);
  });
}
</script>